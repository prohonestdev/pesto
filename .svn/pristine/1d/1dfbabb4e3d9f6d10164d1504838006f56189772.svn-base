function formationOfDate(e) {
    if (e < 10) {
        e = '0' + e;
    }
    return e;
}

function initializeMenuCarousel() {
    $('.menu-slider').owlCarousel({
            autoplayTimeout: 5000,
            autoplayHoverPause: true,
            autoplay: true,
            dots: true,
            items: 1,
            loop: true,
            margin: 10,
            mouseDrag: true,
            nav: false,
            touchDrag: true
    });
}

function setCarousel() 
{
    if (($.isFunction($.fn.show) && $.isFunction($.fn.revolution))) {
        $('.rev_slider').each(function(){
                revapi = $(this).show().revolution({
                        sliderType: 'carousel',                
                        gridwidth: 1230,
                        gridheight: 720,
                        navigation: {
                            keyboardNavigation: 'off',
                            keyboard_direction: 'horizontal',
                            mouseScrollNavigation: 'off',
                            onHoverStop: 'off',
                            arrows: {
                                style: 'rev_pesto',
                                enable: true,
                                hide_onmobile: true,
                                hide_under: 600,
                                hide_onleave: true,
                                hide_delay: 200,
                                hide_delay_mobile: 1200,
                                tmp: '<div class="tp-title-wrap">     <span class="tp-arr-titleholder">{{title}}</span> </div>',
                                left: {
                                    h_align: 'left',
                                    v_align: 'center',
                                    h_offset: 30,
                                    v_offset: 0
                                },
                                right: {
                                    h_align: 'right',
                                    v_align: 'center',
                                    h_offset: 30,
                                    v_offset: 0
                                }
                            }
                            ,
                            thumbnails: {
                                style: 'rev_pesto',
                                enable: true,
                                width: 20,
                                height: 20,
                                min_width: 14,
                                wrapper_padding: 0,
                                wrapper_color: 'transparent',
                                wrapper_opacity: '1',
                                tmp: '<span class="tp-thumb-icon-circle"><i class="fa fa-circle"></i></span>',
                                visibleAmount: 5,
                                hide_onmobile: true,
                                hide_under: 800,
                                hide_onleave: true,
                                direction: 'horizontal',
                                span: false,
                                position: 'inner',
                                space: 5,
                                h_align: 'center',
                                v_align: 'bottom',
                                h_offset: 0,
                                v_offset: 20
                            }
                        },
                        carousel:{
                            horizontal_align: 'center',
                            vertical_align : 'center',
                            infinity : 'on',
                            space : 0,
                            maxVisibleItems : 3,                        
                            stretch: 'on',                        
                            fadeout: 'on',                        
                            maxRotation: 0,                        
                            minScale: 0,
                            vary_fade: 'off',
                            vary_rotation: 'on',
                            vary_scale: 'off',                        
                            border_radius: '0px',
                            padding_top: 0,
                            padding_bottom: 0
                        }
                });  	
        });

        $('.rev_slider3').each(function(){
                revapi = $(this).show().revolution({
                        sliderType: 'carousel',  
						gridwidth: 1650,
                        gridheight: 1080,
                        responsiveLevels: [2048,1024,768,480],
                        sliderLayout: 'fullscreen',
                        navigation: {
                            keyboardNavigation: 'off',
                            keyboard_direction: 'horizontal',
                            mouseScrollNavigation: 'off',
                            onHoverStop: 'off',
                            arrows: {
                                style: 'rev_pesto',
                                enable: true,
                                hide_onmobile: true,
                                hide_under: 600,
                                hide_onleave: true,
                                hide_delay: 200,
                                hide_delay_mobile: 1200,
                                left: {
                                    h_align: 'left',
                                    v_align: 'center',
                                    h_offset: 42,
                                    v_offset: 0
                                },
                                right: {
                                    h_align: 'right',
                                    v_align: 'center',
                                    h_offset: 42,
                                    v_offset: 0
                                }
                            }
                            ,
                            thumbnails: {
                                style: 'rev_pesto',
                                enable: true,
                                width: 20,
                                height: 20,
                                min_width: 14,
                                wrapper_padding: 0,
                                wrapper_color: 'transparent',
                                wrapper_opacity: '1',
                                tmp: '<span class="tp-thumb-icon-circle"><i class="fa fa-circle"></i></span>',
                                visibleAmount: 5,
                                hide_onmobile: true,
                                hide_under: 800,
                                hide_onleave: true,
                                direction: 'horizontal',
                                span: false,
                                position: 'inner',
                                space: 5,
                                h_align: 'center',
                                v_align: 'bottom',
                                h_offset: 0,
                                v_offset: 20
                            }
                        },
                        carousel:{
                            horizontal_align: 'center',
                            vertical_align : 'center',
                            infinity : 'on',
                            space : 0,
                            maxVisibleItems : 3,                        
                            stretch: 'on',                        
                            fadeout: 'on',                        
                            maxRotation: 0,                        
                            minScale: 0,
                            vary_fade: 'off',
                            vary_rotation: 'on',
                            vary_scale: 'off',                        
                            border_radius: '0px',
                            padding_top: 0,
                            padding_bottom: 0
                        }
                });  	
        });

        $('.rev_slider2').each(function(){
                revapi = $(this).revolution({
                        sliderType: 'carousel',                
                        gridwidth: 430,
                        gridheight: 430,
                        navigation: {
                            keyboardNavigation: 'off',
                            keyboard_direction: 'horizontal',
                            mouseScrollNavigation: 'off',
                            onHoverStop: 'on',
                            arrows: {
                                style: 'rev_pesto',
                                enable: true,
                                hide_onmobile: false,
                                hide_under: 600,
                                hide_onleave: true,
                                hide_delay: 200,
                                hide_delay_mobile: 1200,
                                tmp: '',
                                left: {
                                    h_align: 'left',
                                    v_align: 'center',
                                    h_offset: 30,
                                    v_offset: 0
                                },
                                right: {
                                    h_align: 'right',
                                    v_align: 'center',
                                    h_offset: 30,
                                    v_offset: 0
                                }
                            }
                            ,
                            thumbnails: {
                                style: 'rev_pesto',
                                enable: true,
                                width: 20,
                                height: 20,
                                min_width: 14,
                                wrapper_padding: 0,
                                wrapper_color: 'transparent',
                                wrapper_opacity: '1',
                                tmp: '<span class="tp-thumb-icon-circle"><i class="fa fa-circle"></i></span>',
                                visibleAmount: 5,
                                hide_onmobile: false,
                                hide_under: 800,
                                hide_onleave: false,
                                direction: 'horizontal',
                                span: true,
                                position: 'inner',
                                space: 5,
                                h_align: 'center',
                                v_align: 'bottom',
                                h_offset: 0,
                                v_offset: 20
                            }
                        },
                        carousel:{
                            horizontal_align: 'center',
                            vertical_align : 'center',
                            infinity : 'on',
                            space : 0,
                            maxVisibleItems : 3,                        
                            stretch: 'on',                        
                            fadeout: 'on',                        
                            maxRotation: 0,                        
                            minScale: 0,
                            vary_fade: 'off',
                            vary_rotation: 'on',
                            vary_scale: 'off',                        
                            border_radius: '0px',
                            padding_top: 0,
                            padding_bottom: 0
                        }
                });
        });
    }

    // Set Owl Carousel
    if ($.isFunction($.fn.owlCarousel)) {
        $(".theme-owl-carousel.owl-theme").each(function() {
                $(this).owlCarousel({
                        autoplayTimeout: 5000,
                        autoplayHoverPause: true,
                        autoplay: true,
                        loop: true,
                        margin: 10,
                        nav: false,
                        touchDrag: true,
                        mouseDrag: true,
                        dots: true,
                        responsive:{
                            0:{
                                items:1
                            },
                            600:{
                                items:1
                            },
                            1000:{
                                items:1
                            }
                        }
                });
        });

        $(".theme-owl-carousel.over-comment").each(function() {
                $(this).owlCarousel({
                        autoplayTimeout: 5000,
                        autoplayHoverPause: true,
                        autoplay: true,
                        loop: true,
                        margin: 10,
                        nav: false,
                        touchDrag: true,
                        mouseDrag: true,
                        dots: true,
                        responsive:{
                            0:{
                                items:1
                            },
                            600:{
                                items:1
                            },
                            1000:{
                                items:1
                            }
                        }
                });
        });

        $(".theme-owl-carousel.right-comment").each(function() {
                $(this).owlCarousel({
                        autoplayTimeout: 5000,
                        autoplayHoverPause: true,
                        autoplay: true,
                        loop: true,
                        margin: 40,
                        nav: true,
                        touchDrag: true,
                        mouseDrag: true,
                        dots: false,
                        navText: ['<span> <i class="demo-icon pesto-icon-left-arrow"></i> </span>','<span> <i class="demo-icon pesto-icon-right-arrow"></i> </span>'],
                        responsive:{
                            0:{
                                items:1,
                                margin: 5
                            },
                            860:{
                                items:2,
                                margin: 25
                            },
                            1300:{
                                items:3,
                                margin: 40
                            }

                        }
                });
        });
    }
}

function setVisualState() {
    $('.smart_input').each(function() {
            $value = $(this).val();

            if ($(this).is(':checked')) {
                $(this).next().addClass("checked");
            }
            else {
                $(this).next().removeClass("checked");
            }
    });
}

function setEvent() {
    setVisualState();

    //add event here
    $('.smart_input').change(function() {
            setVisualState();
    });
}


function setSelect() {
    // Override defaults
    if (($.isFunction($.fn.selectpicker))) {
        $.fn.selectpicker.defaults = {
            iconBase: '',
            tickIcon: 'icon-checkmark3'
        }

        // Basic select
        if ($('.bootstrap-select').length)
            {
            $('.bootstrap-select').selectpicker();
        }
    }
}

function setSlider()
{
    // Set Slider
    if (($.isFunction($.fn.slider))) {
        $('.slider-range').each(function(){
                var $start_value, $end_value;
                $start_value 	= 250;
                $end_value 		= 750;

                $(this).slider({
                        range: true,
                        min: 0,
                        max: 1000,
                        values: [ $start_value, $end_value ],
                        slide: function( event, ui ) {
                            $( ".amount-start", $(this).parent(), $(this).parent() ).val('$'+ui.values[ 0 ]);
                            $( ".amount-end", $(this).parent() ).val('$'+ui.values[ 1 ]);
                        }
                });

                $(".amount-start", $(this).parent()).val('$'+$(this).slider( "values", 0 ));
                $( ".amount-end", $(this).parent()).val('$'+$(this).slider( "values", 1 ));	
        });

        $('.slider-default').each(function(){
                $(this).slider();
        });

        $('.slider-range-min').each(function(){
                $(this).slider({
                        range: "min",
                        value: 100,
                        min: 1,
                        max: 700,
                        slide: function( event, ui ) {
                            $( ".amount", $(this).parent() ).val( "$" + ui.value );
                        }
                });
                $( ".amount", $(this).parent() ).val( "$" + $(this).slider( "value" ) );
        });

        $('.slider-range-max').each(function(){
                $(this).slider({
                        range: "max",
                        value: 100,
                        min: 1,
                        max: 700,
                        slide: function( event, ui ) {
                            $( ".amount", $(this).parent() ).val( "$" + ui.value );
                        }
                });
                $( ".amount", $(this).parent() ).val( "$" + $(this).slider( "value" ) );
        });
    }
}


function initializeMap() {
    var mapOptions1 = {
        // How zoomed in you want the map to start at (always required)
        zoom: 11,

        // The latitude and longitude to center the map (always required)
        center: new google.maps.LatLng(40.6700, -73.9400), // New York

        // How you would like to style the map. 
        // This is where you would paste any style found on Snazzy Maps.
        styles: [{
                "featureType": "all",
                "elementType": "geometry",
                "stylers": [{
                        "color": "#e7f8fd"
                }]
            }, {
                "featureType": "all",
                "elementType": "labels.text.fill",
                "stylers": [{
                        "gamma": 0.01
                    }, {
                        "lightness": 20
                }]
            }, {
                "featureType": "all",
                "elementType": "labels.text.stroke",
                "stylers": [{
                        "saturation": -31
                    }, {
                        "lightness": -33
                    }, {
                        "weight": 2
                    }, {
                        "gamma": 0.8
                }]
            }, {
                "featureType": "all",
                "elementType": "labels.icon",
                "stylers": [{
                        "visibility": "off"
                }]
            }, {
                "featureType": "administrative",
                "elementType": "geometry",
                "stylers": [{
                        "visibility": "off"
                }]
            }, {
                "featureType": "administrative",
                "elementType": "geometry.stroke",
                "stylers": [{
                        "visibility": "off"
                }]
            }, {
                "featureType": "administrative",
                "elementType": "labels",
                "stylers": [{
                        "visibility": "off"
                }]
            }, {
                "featureType": "landscape",
                "elementType": "geometry",
                "stylers": [{
                        "lightness": 30
                    }, {
                        "saturation": 30
                }]
            }, {
                "featureType": "landscape",
                "elementType": "labels",
                "stylers": [{
                        "visibility": "off"
                }]
            }, {
                "featureType": "poi",
                "elementType": "geometry",
                "stylers": [{
                        "saturation": 20
                }]
            }, {
                "featureType": "poi",
                "elementType": "labels",
                "stylers": [{
                        "visibility": "off"
                }]
            }, {
                "featureType": "poi.park",
                "elementType": "geometry",
                "stylers": [{
                        "lightness": 20
                    }, {
                        "saturation": -20
                }]
            }, {
                "featureType": "road",
                "elementType": "geometry",
                "stylers": [{
                        "lightness": 10
                    }, {
                        "saturation": -30
                    }, {
                        "visibility": "off"
                }]
            }, {
                "featureType": "road",
                "elementType": "geometry.stroke",
                "stylers": [{
                        "saturation": 25
                    }, {
                        "lightness": 25
                }]
            }, {
                "featureType": "road",
                "elementType": "labels",
                "stylers": [{
                        "visibility": "off"
                }]
            }, {
                "featureType": "water",
                "elementType": "all",
                "stylers": [{
                        "lightness": -20
                }]
            }, {
                "featureType": "water",
                "elementType": "labels",
                "stylers": [{
                        "visibility": "off"
                }]
        }]
    };
    var mapOptions2 = {
        // How zoomed in you want the map to start at (always required)
        zoom: 11,

        // The latitude and longitude to center the map (always required)
        center: new google.maps.LatLng(40.6700, -73.9400), // New York

        // How you would like to style the map. 
        // This is where you would paste any style found on Snazzy Maps.
        styles: [{"featureType":"all","elementType":"labels.text","stylers":[{"visibility":"off"}]},{"featureType":"administrative","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"administrative.country","elementType":"geometry.fill","stylers":[{"hue":"#ff0000"}]},{"featureType":"administrative.province","elementType":"geometry.fill","stylers":[{"color":"#ff0000"}]},{"featureType":"landscape","elementType":"all","stylers":[{"color":"#e5e8e7"},{"visibility":"off"}]},{"featureType":"landscape.man_made","elementType":"geometry.fill","stylers":[{"color":"#f9fafb"},{"visibility":"on"}]},{"featureType":"landscape.natural","elementType":"geometry.fill","stylers":[{"color":"#f5f5f2"},{"visibility":"on"}]},{"featureType":"landscape.natural.landcover","elementType":"geometry.fill","stylers":[{"color":"#f9fafb"}]},{"featureType":"landscape.natural.terrain","elementType":"geometry.fill","stylers":[{"color":"#f9fafb"}]},{"featureType":"landscape.natural.terrain","elementType":"labels.icon","stylers":[{"hue":"#ff0000"}]},{"featureType":"poi","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"poi.attraction","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"poi.business","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"poi.government","elementType":"geometry","stylers":[{"visibility":"off"}]},{"featureType":"poi.medical","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"poi.park","elementType":"all","stylers":[{"color":"#91b65d"},{"gamma":1.51}]},{"featureType":"poi.park","elementType":"geometry.fill","stylers":[{"color":"#f9fafb"},{"gamma":"1"},{"weight":"1"}]},{"featureType":"poi.park","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"poi.place_of_worship","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"poi.school","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"poi.sports_complex","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"poi.sports_complex","elementType":"geometry","stylers":[{"color":"#c7c7c7"},{"visibility":"off"}]},{"featureType":"road","elementType":"all","stylers":[{"color":"#ffffff"}]},{"featureType":"road","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"road.highway","elementType":"geometry","stylers":[{"color":"#ffffff"},{"visibility":"simplified"}]},{"featureType":"road.highway","elementType":"labels.icon","stylers":[{"color":"#ffffff"},{"visibility":"off"}]},{"featureType":"road.arterial","elementType":"all","stylers":[{"visibility":"simplified"},{"color":"#ffffff"}]},{"featureType":"road.arterial","elementType":"geometry","stylers":[{"visibility":"simplified"}]},{"featureType":"road.local","elementType":"all","stylers":[{"color":"#ffffff"},{"visibility":"simplified"}]},{"featureType":"road.local","elementType":"geometry","stylers":[{"visibility":"on"}]},{"featureType":"transit","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"water","elementType":"all","stylers":[{"color":"#a0d3d3"}]},{"featureType":"water","elementType":"geometry.fill","stylers":[{"color":"#dfe4ec"}]}]
    };
    // Get the HTML DOM element that will contain your map 
    // We are using a div with id="map" seen below in the <body>
    var mapElement = document.getElementById('google_map');

    if ($('#google_map.type1').length){
        // Create the Google Map using our element and options defined above
        var map = new google.maps.Map(mapElement, mapOptions1);    
    }
    else if ($('#google_map.type2').length){
        // Create the Google Map using our element and options defined above
        var map = new google.maps.Map(mapElement, mapOptions2);    
    }

    // Let's also add a marker while we're at it
    var marker = new google.maps.Marker({
            position: new google.maps.LatLng(40.6700, -73.9400),
            map: map,
            title: 'Snazzy!'
    });
}

function menuFixed(fixedClass,flag) {
    if (flag == 'add') {
        if (!fixedClass.hasClass('fixed-top')) {
            fixedClass.addClass('fixed-top');
        }
    }
    else {
        if (fixedClass.hasClass('fixed-top')) {
            fixedClass.removeClass('fixed-top');
        }    
    }        
}
function refreshHeader3() {
    var headerHeight = $('.header-body').height();
    var windowHeight = $(window).height();
    var difference = headerHeight - windowHeight;

    if (difference > 0) {
        $('.header-body').not('.fixed-bottom').css('position','absolute').css('top','auto');
        if ($(window).scrollTop() > difference ) {
            $('.header-body').addClass('fixed-bottom');
        }
        else if ($(window).scrollTop() <= difference && $('.header-body').hasClass('fixed-bottom')){
            $('.header-body').removeClass('fixed-bottom');
        }
    }
    else {
        $('.header-body').css('position','fixed');				
        $('.header-body').css('top','0');
    }
}

$(document).ready(function() {

        setCarousel();
        setEvent();
        setSelect();
        setSlider();

        //Calcualte height of left-sidebar header when left-sidebar header is clicked
        $('.left-sidebar .header-body.fixed-bottom *').click(function(){
                var headerHeight = $('.header-body').height();
                var windowHeight = $(window).height();
                var difference = headerHeight - windowHeight;

                if (difference < 0) { 
                    $('.header-body').removeClass('fixed-bottom').css('position','absolute');
                    $('.header-body').css('top','0');
                }
        });

        // Refresh Menu when size of window change
        $(window).resize(function(){
                if ($(window).scrollTop() > 0) {
                    if ($('.left-sidebar').length == 0 || ($('.left-sidebar').length && $(window).width() < 992)) {
                        menuFixed($('.header-body'),'add');
                    }
                    else if ($('.left-sidebar').length) {
                        $('.header-body.fixed-top').removeClass('fixed-top');
                        $('.header-body').css('top',0);
                    }
                }
                if ($(window).width() > 991) {
                    $('#header').find('.droped').removeClass('droped').slideUp(100);
                    if ($('.left-sidebar').length) {
                        $('.header-body.fixed-top').removeClass('fixed-top');
                    }
                }
                if ($(window).width() < 767) {
                    if ($('.tabs.type2').length) {
                        var $active = $('.type2 .nav-tabs li.active');
                        $active.append($('.type2 .tab-content').find($active.find('a').attr('href')));        
                    }
                }
                if ($(window).width()> 767) {
                    if ($('.tabs.type2').length) {
                        var $active = $('.type2 .nav-tabs li.active');
                        $('.type2 .tab-content').append($active.find('a+div'));        
                    }
                }
        });

        // Header fixed
        if (('#header').length) {
            if ($(window).scrollTop() > 0) {
                if ($(window).width() < 992 || $('.left-sidebar').length == 0 ) {
                    menuFixed($('.header-body'),'add');
                }
            }
            $(window).scroll(function() {
                    if ($(window).width() < 992 || $('.left-sidebar').length == 0 ) {
                        if (0 < $(window).scrollTop())
                            {
                            menuFixed($('.header-body'),'add');    
                        }
                        else {
                            menuFixed($('.header-body'),'remove');
                        }          
                    }
                    else if ($('.left-sidebar').length && $(window).width() > 991 ) {
                        refreshHeader3();
                    }
            });
        }

        // Dropdown-menu droped when header top links hover
        $('.header-top-links .dropdown').mouseenter(function() {
                var el = $(this).children('.dropdown-menu');

                if ($(window).width() > 991) {
                    el = $(this).children('.dropdown-menu').not('.droped,.right');
                }
                else {
                    el = $(this).children('.dropdown-menu').not('.droped');
                }

                $(el).addClass('droped').slideDown(100);
        }).mouseleave(function(){
                var el = $(this).children('.dropdown-menu');

                if ($(window).width() > 991) {
                    el = $(this).children('.dropdown-menu.droped').not('.right');
                }
                else {
                    el = $(this).children('.dropdown-menu.droped');
                }

                $(el).slideUp(100).removeClass("droped");
        });

        $('.header-top-links .dropdown-search a.dropdown-toggle').click(function(e) {
                e.stopPropagation();
                $(this).siblings('.dropdown-menu').not('.droped').slideDown("slow").addClass('droped');
        });


        $('.header-top-links .dropdown-search .dropdown-menu').mouseleave(function() {
                $(this).slideUp().removeClass("droped");
        });

        if ($.isFunction($.fn.owlCarousel) ) {
            $('.product-owl-carousel').owlCarousel({
                    items:4,
                    loop:true,
                    margin:22,
                    nav: true,
                    touchDrag: true,
                    mouseDrag: true,
                    navText: ['<span> <i class="demo-icon pesto-icon-left-arrow"></i> </span>','<span> <i class="demo-icon pesto-icon-right-arrow"></i> </span>']
            });

            $('.shop .owl-carousel').on('translated.owl.carousel', function(event) {
                    var items = $(this).find('.owl-item.active > .owl-item');
                    $.each(items , function(index,value){
                            if (index != 1 && $(value).hasClass('owl-sel')){
                                $(value).removeClass('owl-sel');
                            }
                            else if(index == 1 && !$(value).hasClass('owl-sel')){
                                $(value).addClass('owl-sel');
                            }    
                    });
            });
        }

        if ($('.select ul').length) {
            $('.select ul li').click(function(){
                    $.each($(this).siblings(),function(index,value) {
                            if ($(value).hasClass('selected')){
                                $(value).removeClass('selected');
                            }                  
                    })

                    if (!$(this).hasClass('selected')) {
                        $(this).addClass('selected');
                        $(this).parents('.select').children('select').val($(this).attr('value'));
                    }    
            });        
        }

        // google map
        if ($('#google_map').length){
            initializeMap();        
        }

        if ($('.fancybox').length){
            $('.fancybox').fancybox({
                    tpl: {
                        closeBtn : '<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',
                        next     : '<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',
                        prev     : '<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'
                    }
            });        
        }

        if ($('.header-btn-search').length){
            $('.header-btn-search').click(function(){
                    $('.header-top-links .dropdown-search .dropdown-menu').not('.droped').slideDown().addClass('droped');
            });
        }

        if ($('.header-btn-cart').length){
            $('.header-btn-cart').click(function(){
                    $('.header-top-links .mini-cart .dropdown-menu').not('.droped').slideDown();
                    $('.header-top-links .mini-cart .dropdown-menu.droped').slideUp();
                    $('.header-top-links .mini-cart .dropdown-menu').toggleClass("droped");
            });
        }

        // menu
        if ($('.header-main-nav .dropdown').length) {
            $('.dropdown').click(function(e){
                    if ($(window).width() < 992 || $('.left-sidebar').length) {
                        e.stopPropagation();

                        $(this).find('>.dropdown-menu').not('.droped').slideDown('slow');

                        $(this).find('.dropdown-menu.droped').slideUp('400',function(){
                                if ($('.left-sidebar').length && $(window).width() > 991 ){
                                    setTimeout(refreshHeader3(),400);
                                }
                        });

                        $(this).find('>.dropdown-menu').toggleClass('droped');
                        $(this).find('.dropdown-menu .dropdown-menu.droped').removeClass('droped');
                        $(this).find('>.dropdown-table-sub-nav.droped').removeClass('droped').slideUp('slow');

                    }

            });   
        }

        //dropdown-table 
        $('.dropdown-table').hover(function(){
                /*
                if ($(window).width()>=980 && $('.left-sidebar').length==0) {
                if($(this).find('.menu-slider.owl-carousel').length) {
                $(this).find('.menu-slider').trigger('refresh.owl.carousel');
                $('.menu-slider', $(this)).owlCarousel().removeClass('owl-loaded');
                $('.menu-slider', $(this)).show(function() {
                $(this).addClass('owl-loaded').trigger('refresh.owl.carousel');
                });
                // $('.menu-slider', $(this)).trigger('destroy.owl.carousel');
                // $('.menu-slider', $(this)).html($('.menu-slider', $(this)).find('.owl-stage-outer').html()).removeClass('owl-loaded');

                }
                initializeMenuCarousel();
                }
                */
                if ($(window).width()>=992 && $('.left-sidebar').length==0 && $(this).find('.menu-slider').length) {
                    if($(this).find('.menu-slider.owl-theme').length) {
                        $(this).find('.menu-slider').trigger('refresh.owl.carousel');
                    }
                    else {
                        initializeMenuCarousel();
                    }
                }
        });

        // submenu
        if ($('.dropdown-table-sub-title').length) {
            $('.dropdown-table-content >li').click(function(e){
                    e.stopPropagation();
                    if ($(window).width() <= 992  || $('.left-sidebar').length){
                        $(this).siblings().find('.dropdown-table-sub-nav.droped').slideUp('slow').removeClass('droped');

                        if ($(this).find('.dropdown-table-sub-nav').hasClass('droped')) {
                            $(this).find('.dropdown-table-sub-nav').removeClass('droped').slideUp('slow');    
                        }
                        else {
                            $(this).find('.dropdown-table-sub-nav').addClass('droped').slideDown('slow');
                        }
                    }
            });
        }

        if ($('.remain-time').length) {
            setInterval(function() {
                    var date = new Date();
                    var day = $('.day h4').html()*1;
                    var hour = $('.hour h4').html()*1;
                    var minute = $('.minute h4').html()*1;
                    var second = $('.second h4').html()*1;

                    second -= 1;

                    if (second < 0 ) {
                        second = 59;
                        minute -= 1;
                    }

                    if (minute < 0) {
                        minute = 59;
                        hour -= 1;
                    }

                    if (hour < 0) {
                        hour = 23;
                        day -= 1;
                    }

                    if (day < 0) {
                        day = hour = minute = second = 0;
                    }

                    second = formationOfDate(second);
                    minute = formationOfDate(minute);
                    hour = formationOfDate(hour);
                    day = formationOfDate(day);

                    $('.day h4').html(day);
                    $('.hour h4').html(hour);
                    $('.minute h4').html(minute);
                    $('.second h4').html(second);
                },1000);	
        }

        if ($.isFunction($.fn.isotope)) {
            var $grid = $('.grid').imagesLoaded(function() {
                    $grid.isotope({
                            itemSelector: '.grid-item',
                            layoutMode: 'fitRows',
                            getSortData:  {
                                special: '.new,.reducation,.stock',
                                latest: '.new',
                                bestsellers: '.price',
                                features: '.brand',
                                popular: '.image',
                                featured: '.category,.brand'
                            }
                    });  
            })

            var $masonry_grid=$('.masonry-grid').imagesLoaded(function(){
                    $masonry_grid.isotope({
                            layoutMode: 'packery',
                            itemSelector: '.grid-item',
                            getSortData: {
                                latest: '.title',
                                popular: '.category',
                                featured: '.image img'
                            }
                    });
            });


        }

        $('.btn-load-more').click(function() {
                $(this).css('display','none');

                if ($('.products .grid').length) {
                    var $items = $('.products .load-more .grid-item');
                    $grid.append($items).isotope( 'appended', $items );
                }

                if ($('.products .masonry-grid').length) {
                    var $items = $('.products .load-more .grid-item');
                    $masonry_grid.append($items).isotope( 'appended', $items );
                }
        });

        $('.filter').click(function() {
                if ($.isFunction($.fn.isotope)) {
                    var filterContainer = $(this).parent().parent().attr('data-object');
                    var filterValue = $(this).attr('data-filter');

                    if (filterContainer.substr(1,1) == "." || filterContainer.substr(1,1) == "#") {
                        filterContainer = filterContainer.substr(1);
                    }

                    filterContainer = filterContainer.replace("-","_");
                    filterContainer = "$" + filterContainer;
                    eval(filterContainer).isotope({filter : filterValue});
                }
        });

        $('.sort').click(function(){
                if ($.isFunction($.fn.isotope)) {
                    var sortContainer = $(this).parent().parent().attr('data-object');
                    var sortValue = $(this).attr('data-sort-value');

                    if (sortContainer.substr(1,1) == "." || sortContainer.substr(1,1) == "#") {
                        sortContainer = sortContainer.substr(1);
                    }

                    sortContainer = sortContainer.replace("-","_");
                    sortContainer = "$" + sortContainer;
                    eval(sortContainer).isotope({sortBy : sortValue});
                }
        });

        $('.image').click(function(){
                if ($(this).find('>a').length)
                    window.location.assign($(this).find('>a').attr('href'));
        });

        $('.over-comment .links > *').click(function(e){
                e.stopPropagation();
        });

        // mobile menu close
        if ($('.menu-close').length) {
            $('.menu-close').click(function(){
                    $(this).parents('.droped').slideUp('slow').removeClass('droped');
            })
        }
        /* Wow plugin Init */
        if ($('.wow').length) {
            new WOW().init();
        }
        /*    
        // Tab-vertical in mobile mode
        if ($('.tabs.tabs-vertical').length) {
        if ($(window).width() < 767) {
        var $active = $('.type2 .nav-tabs li.active');
        $active.append($('.type2 .tab-content').find($active.find('a').attr('href')));
        }
        $('.type2 .nav-tabs li a').click(function(){
        if ($(window).width() < 767 && !$(this).parent().hasClass('active')) {
        $(this).closest('.nav-tabs').siblings('.tab-content').append($(this).parent().siblings('li.active').find('a+*'));
        console.log($(this).closest('.nav-tabs').siblings('.tab-content').find($(this).attr('href')).html());
        $(this).parent().append($(this).closest('.nav-tabs').siblings('.tab-content ').find($(this).attr('href')));
        }
        });            
        }
        */
        if ($('#easy_tabs').length && $.isFunction($.fn.easyResponsiveTabs)) {
            $('#easy_tabs.tabs-vertical').easyResponsiveTabs({
                    type: 'vertical', //Types: default, vertical, accordion
                    width: 'auto', //auto or any width like 600px
                    fit: true, // 100% fit in a container
                    closed: 'accordion', // Start closed if in accordion view
                    tabidentify: 'tab-part'
            });
        }

});


